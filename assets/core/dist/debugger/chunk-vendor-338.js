/*! For license information please see chunk-vendor-338.js.LICENSE.txt */
"use strict";(self.webpackChunk_windwalker_io_core=self.webpackChunk_windwalker_io_core||[]).push([[338],{6072:(t,e,r)=>{r.d(e,{Z:()=>m});var n=r(1525),o=r(3630),a={key:0},i={class:"p-3",style:{"background-color":"var(--bs-gray-200)"}},c={class:"text-xl font-bold text-gray-800"},l=(0,n.Uk)(),u={class:"text-muted"},s=(0,n.Uk)(),d=["href"],f=(0,n.Uk)(),h=r(457),p=r(5054),v=r(4545);const y={name:"DefaultLayout",setup:function(){var t=(0,h.yj)();return{currentId:v.p,currentData:v.I,route:t,goToLast:p.D}}},m=(0,r(4181).Z)(y,[["render",function(t,e,r,h,p,v){var y=(0,n.up)("fa-icon"),m=(0,n.up)("router-link");return h.currentData?((0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("div",i,[(0,n._)("h1",c,[(0,n.WI)(t.$slots,"title")]),l,(0,n._)("div",u,[(0,n.Wm)(m,{to:"/",class:"btn btn-sm btn-primary"},{default:(0,n.w5)((function(){return[(0,n.Wm)(y,{icon:"fa-solid fa-list"})]})),_:1}),s,(0,n._)("button",{type:"button",onClick:e[0]||(e[0]=function(t){return h.goToLast("/"+h.route.name)}),class:"btn btn-sm btn-success"},[(0,n.Wm)(y,{icon:"fa-solid fa-arrows-rotate"})]),(0,n.Uk)("\r\n      /\r\n      "+(0,o.zw)(h.currentId)+"\r\n      / ",1),(0,n._)("a",{target:"_blank",class:"text-gray-600",href:h.currentData.url},(0,o.zw)(h.currentData.url),9,d)])]),f,(0,n.WI)(t.$slots,"default")])):(0,n.kq)("",!0)}]])},338:(t,e,r)=>{r.r(e),r.d(e,{default:()=>de});var n=r(1525),o=r(3630),a=(0,n.Uk)("\r\n      Database\r\n    "),i=(0,n.Uk)(),c={key:0,class:"p-4"},l={class:"nav nav-pills",id:"profilers-tab",role:"tablist"},u={class:"nav-item",role:"presentation"},s=["data-bs-target"],d=(0,n.Uk)(),f={class:"tab-content mt-4",id:"myTabContent"},h=["id"],p=(0,n._)("h4",null,"Queries",-1),v=(0,n.Uk)(),y={class:"my-3"},m=(0,n.Uk)("\r\n              Count: "),g={class:"badge bg-info"},b=(0,n.Uk)("\r\n              -\r\n              Time:\r\n              "),w=(0,n.Uk)("\r\n              -\r\n              Memory:\r\n              "),k=(0,n.Uk)(),_={class:"mt-5"},x={class:"mb-4"},L=(0,n.Uk)(),E={class:"table table-striped table-bordered"},C={style:{"font-family":"monospace","font-size":"13px","word-break":"break-all"}},U=(0,n.Uk)(),O=["href"],j=r(5556),z=["id","aria-labelledby","aria-hidden","data-bs-backdrop"],S={class:"modal-content"},D={key:1,class:"modal-header"},M=["id"],P=(0,n.Uk)(),T=(0,n._)("button",{type:"button",class:"close btn-close","data-bs-dismiss":"modal","data-dismiss":"modal","aria-label":"Close"},[(0,n._)("span",{"aria-hidden":"true",class:"visually-hidden"},"Ã—")],-1),H=(0,n.Uk)(),N={key:1,class:"modal-body"},B=(0,n.Uk)(),I={key:2,class:"modal-footer"},G=r(3752);function q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?q(Object(r),!0).forEach((function(e){F(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function F(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const W={name:"BsModal",inheritAttrs:!1,props:{id:String,open:{type:Boolean,default:!1},size:String,title:String,backdrop:{type:[String,Boolean],default:!0}},emits:["show","shown","hide","hidden"],setup:function(t,e){var r=e.emit,o=e.slots,a=(0,j.iH)(null),i=(0,j.qj)({idName:t.id||"modal-"+(Math.random()+1).toString(36).substring(7),visible:t.open});function c(){return G.Z.getOrCreateInstance(a.value)}return(0,n.YP)((function(){return i.visible}),(function(t,e){!e&&t&&c().show(),e&&!t&&c().hide()})),(0,n.YP)((function(){return t.open}),(function(t){i.visible=t})),(0,n.YP)((function(){return t.id}),(function(t){i.idName=t})),(0,n.bv)((function(){a.value.addEventListener("show.bs.modal",(function(t){r("show",t)})),a.value.addEventListener("shown.bs.modal",(function(t){r("shown",t)})),a.value.addEventListener("hide.bs.modal",(function(t){r("hide",t)})),a.value.addEventListener("hidden.bs.modal",(function(t){r("hidden",t)}))})),Y(Y({},(0,j.BK)(i)),{},{modal:a,hasSlots:function(t){return void 0!==o[t]}})}};var Z=r(4181);const R=(0,Z.Z)(W,[["render",function(t,e,r,a,i,c){return(0,n.wg)(),(0,n.j4)(n.lR,{to:"body"},[(0,n._)("div",(0,n.dG)({ref:"modal",class:"modal fade",id:t.idName},t.$attrs,{tabindex:"-1",role:"dialog","aria-labelledby":t.idName+"-label","aria-hidden":t.visible?"true":"false","data-bs-backdrop":r.backdrop}),[(0,n._)("div",{class:(0,o.C_)(["modal-dialog",r.size?"modal-"+r.size:null]),role:"document"},[(0,n._)("div",S,[t.visible?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[a.hasSlots("header-element")?(0,n.WI)(t.$slots,"header-element",{key:0}):((0,n.wg)(),(0,n.iD)("div",D,[(0,n.WI)(t.$slots,"header",{},(function(){return[(0,n._)("div",{class:"modal-title",id:t.idName+"-label"},[(0,n._)("h4",null,(0,o.zw)(r.title),1)],8,M)]})),P,T]))],64)):(0,n.kq)("",!0),H,t.visible?((0,n.wg)(),(0,n.iD)("div",N,[(0,n.WI)(t.$slots,"default")])):(0,n.kq)("",!0),B,t.visible&&a.hasSlots("footer")?((0,n.wg)(),(0,n.iD)("div",I,[(0,n.WI)(t.$slots,"footer")])):(0,n.kq)("",!0)])],2)],16,z)])}]]);var K=["id"],Q={class:"card-header d-flex justify-content-between"},$={class:"m-0"},A=(0,n.Uk)(),V={class:"d-flex align-items-center justify-content-between"},J={class:"text-muted"},X={style:{height:"14px",display:"inline"},"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"clipboard",class:"svg-inline--fa fa-clipboard fa-w-12",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},tt=[(0,n._)("path",{fill:"currentColor",d:"M336 64h-53.88C268.9 26.8 233.7 0 192 0S115.1 26.8 101.9 64H48C21.5 64 0 85.48 0 112v352C0 490.5 21.5 512 48 512h288c26.5 0 48-21.48 48-48v-352C384 85.48 362.5 64 336 64zM192 64c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S160 113.7 160 96C160 78.33 174.3 64 192 64zM272 224h-160C103.2 224 96 216.8 96 208C96 199.2 103.2 192 112 192h160C280.8 192 288 199.2 288 208S280.8 224 272 224z"},null,-1)],et=(0,n.Uk)(),rt=(0,n._)("span",{class:""},"Copy",-1),nt=(0,n.Uk)(),ot={type:"button",class:"btn btn-primary btn-sm"},at={style:{height:"14px"},"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"link",class:"svg-inline--fa fa-link fa-w-20",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},it=[(0,n._)("path",{fill:"currentColor",d:"M598.6 41.41C570.1 13.8 534.8 0 498.6 0s-72.36 13.8-99.96 41.41l-43.36 43.36c15.11 8.012 29.47 17.58 41.91 30.02c3.146 3.146 5.898 6.518 8.742 9.838l37.96-37.96C458.5 72.05 477.1 64 498.6 64c20.67 0 40.1 8.047 54.71 22.66c14.61 14.61 22.66 34.04 22.66 54.71s-8.049 40.1-22.66 54.71l-133.3 133.3C405.5 343.1 386 352 365.4 352s-40.1-8.048-54.71-22.66C296 314.7 287.1 295.3 287.1 274.6s8.047-40.1 22.66-54.71L314.2 216.4C312.1 212.5 309.9 208.5 306.7 205.3C298.1 196.7 286.8 192 274.6 192c-11.93 0-23.1 4.664-31.61 12.97c-30.71 53.96-23.63 123.6 22.39 169.6C293 402.2 329.2 416 365.4 416c36.18 0 72.36-13.8 99.96-41.41L598.6 241.3c28.45-28.45 42.24-66.01 41.37-103.3C639.1 102.1 625.4 68.16 598.6 41.41zM234 387.4L196.1 425.3C181.5 439.1 162 448 141.4 448c-20.67 0-40.1-8.047-54.71-22.66c-14.61-14.61-22.66-34.04-22.66-54.71s8.049-40.1 22.66-54.71l133.3-133.3C234.5 168 253.1 160 274.6 160s40.1 8.048 54.71 22.66c14.62 14.61 22.66 34.04 22.66 54.71s-8.047 40.1-22.66 54.71L325.8 295.6c2.094 3.939 4.219 7.895 7.465 11.15C341.9 315.3 353.3 320 365.4 320c11.93 0 23.1-4.664 31.61-12.97c30.71-53.96 23.63-123.6-22.39-169.6C346.1 109.8 310.8 96 274.6 96C238.4 96 202.3 109.8 174.7 137.4L41.41 270.7c-27.6 27.6-41.41 63.78-41.41 99.96c-.0001 36.18 13.8 72.36 41.41 99.97C69.01 498.2 105.2 512 141.4 512c36.18 0 72.36-13.8 99.96-41.41l43.36-43.36c-15.11-8.012-29.47-17.58-41.91-30.02C239.6 394.1 236.9 390.7 234 387.4z"},null,-1)],ct=(0,n.Uk)(),lt={style:{height:"14px"},"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"arrow-rotate-right",class:"svg-inline--fa fa-arrow-rotate-right fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ut=[(0,n._)("path",{fill:"currentColor",d:"M496 48V192c0 17.69-14.31 32-32 32H320c-17.69 0-32-14.31-32-32s14.31-32 32-32h63.39c-29.97-39.7-77.25-63.78-127.6-63.78C167.7 96.22 96 167.9 96 256s71.69 159.8 159.8 159.8c34.88 0 68.03-11.03 95.88-31.94c14.22-10.53 34.22-7.75 44.81 6.375c10.59 14.16 7.75 34.22-6.375 44.81c-39.03 29.28-85.36 44.86-134.2 44.86C132.5 479.9 32 379.4 32 256s100.5-223.9 223.9-223.9c69.15 0 134 32.47 176.1 86.12V48c0-17.69 14.31-32 32-32S496 30.31 496 48z"},null,-1)],st=(0,n.Uk)(),dt={class:"card-body"},ft={class:""},ht=["innerHTML"],pt=(0,n.Uk)(),vt={class:"py-4 d-flex justify-content-between"},yt=(0,n.Uk)("\r\n          Query Time:\r\n          "),mt=(0,n.Uk)("\r\n          Memory:\r\n          "),gt=(0,n.Uk)("\r\n          Return Rows\r\n          "),bt={class:"badge bg-info rounded-pill"},wt=(0,n.Uk)(),kt={style:{height:"14px",fill:"white"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_t=[(0,n._)("path",{d:"M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"},null,-1)],xt=(0,n.Uk)("\r\n            Backtrace\r\n          "),Lt=(0,n.Uk)(),Et={key:0},Ct={class:"table"},Ut=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",{class:""},"\r\n            ID\r\n          "),(0,n.Uk)(),(0,n._)("th",{class:""},"\r\n            Select Type\r\n          "),(0,n.Uk)(),(0,n._)("th",{class:""},"\r\n            Table\r\n          "),(0,n.Uk)(),(0,n._)("th",{class:""},"\r\n            Type\r\n          "),(0,n.Uk)(),(0,n._)("th",{class:""},"\r\n            Possible Keys\r\n          "),(0,n.Uk)(),(0,n._)("th",{class:""},"\r\n            Key\r\n          "),(0,n.Uk)(),(0,n._)("th",{class:""},"\r\n            Key Length\r\n          "),(0,n.Uk)(),(0,n._)("th",{class:""},"\r\n            Reference\r\n          "),(0,n.Uk)(),(0,n._)("th",{class:""},"\r\n            Rows\r\n          "),(0,n.Uk)(),(0,n._)("th",{class:""},"\r\n            Extra\r\n          ")])],-1),Ot=(0,n.Uk)(),jt={class:"bg-white"},zt={class:""},St=(0,n.Uk)(),Dt={class:""},Mt=(0,n.Uk)(),Pt={class:""},Tt=(0,n.Uk)(),Ht={class:""},Nt=(0,n.Uk)(),Bt={class:"text-wrap"},It={style:{"word-break":"break-all"}},Gt=(0,n.Uk)(),qt={class:""},Yt=(0,n.Uk)(),Ft={class:""},Wt=(0,n.Uk)(),Zt={class:""},Rt=(0,n.Uk)(),Kt={class:""},Qt=(0,n.Uk)(),$t={class:""},At=r(979),Vt=r(7297),Jt=r(5054);const Xt={name:"query-info",props:{i:Number,item:Object,totalCount:Number,totalTime:Number,totalMemory:Number},setup:function(t,e){var r=e.emit;return{formatQuery:te,round:ee,goToLast:Jt.D,copy:function(){navigator.clipboard.writeText(t.item.debug_query)},stateColor:Vt.G,openBacktrace:function(e){r("open-backtrace",e,t.i)}}}};function te(t){try{return(0,At.format)(t,{keywordCase:"upper"}).replace(/\n/,"<br>")}catch(e){return console.error(e),t}}function ee(t){return Math.round(100*t)/100}const re=(0,Z.Z)(Xt,[["render",function(t,e,r,a,i,c){return(0,n.wg)(),(0,n.iD)("div",{id:"query-".concat(r.i),class:"card rounded-3 border border-1 border-primary"},[(0,n._)("div",Q,[(0,n._)("h4",$,"\r\n        Query: "+(0,o.zw)(r.i),1),A,(0,n._)("div",V,[(0,n._)("div",J,[(0,n._)("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:e[0]||(e[0]=function(){return a.copy&&a.copy.apply(a,arguments)})},[((0,n.wg)(),(0,n.iD)("svg",X,tt)),et,rt]),nt,(0,n._)("button",ot,[((0,n.wg)(),(0,n.iD)("svg",at,it))]),ct,(0,n._)("button",{type:"button",class:"btn btn-success btn-sm",onClick:e[1]||(e[1]=function(t){return a.goToLast("/db")})},[((0,n.wg)(),(0,n.iD)("svg",lt,ut))])])])]),st,(0,n._)("div",dt,[(0,n._)("div",ft,[(0,n._)("pre",{style:{"word-break":"break-all","white-space":"pre-wrap"},class:"bg-light p-4",innerHTML:a.formatQuery(r.item.debug_query)},null,8,ht)]),pt,(0,n._)("div",vt,[(0,n._)("div",null,[yt,(0,n._)("span",{class:(0,o.C_)(["badge","bg-".concat(a.stateColor(1e3*r.item.time,15))])},(0,o.zw)(a.round(1e3*r.item.time))+"ms\r\n          ",3),mt,(0,n._)("span",{class:(0,o.C_)(["badge","bg-".concat(a.stateColor(r.item.memory/1024/1024,.05))])},(0,o.zw)(a.round(r.item.memory/1024/1024))+"MB\r\n          ",3),gt,(0,n._)("span",bt,(0,o.zw)(r.item.count),1)]),wt,(0,n._)("div",null,[(0,n._)("button",{class:"btn btn-primary",onClick:e[2]||(e[2]=function(t){return a.openBacktrace(r.item.backtrace,r.i)})},[((0,n.wg)(),(0,n.iD)("svg",kt,_t)),xt])])])]),Lt,r.item.explain?((0,n.wg)(),(0,n.iD)("div",Et,[(0,n._)("table",Ct,[Ut,Ot,(0,n._)("tbody",jt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.item.explain,(function(t){return(0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",zt,(0,o.zw)(t.id),1),St,(0,n._)("td",Dt,(0,o.zw)(t.select_type),1),Mt,(0,n._)("td",Pt,(0,o.zw)(t.table),1),Tt,(0,n._)("td",Ht,(0,o.zw)(t.type),1),Nt,(0,n._)("td",Bt,[(0,n._)("div",It,(0,o.zw)(t.possible_keys),1)]),Gt,(0,n._)("td",qt,(0,o.zw)(t.key),1),Yt,(0,n._)("td",Ft,(0,o.zw)(t.key_len),1),Wt,(0,n._)("td",Zt,(0,o.zw)(t.ref),1),Rt,(0,n._)("td",Kt,(0,o.zw)(t.rows),1),Qt,(0,n._)("td",$t,(0,o.zw)(t.Extra),1)])})),256))])])])):(0,n.kq)("",!0)],8,K)}]]);var ne=r(6072),oe=r(5518);function ae(t){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ae(t)}function ie(){ie=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),i=new x(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var s={};function d(){}function f(){}function h(){}var p={};c(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==e&&r.call(y,o)&&(p=y);var m=h.prototype=d.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,a,i,c){var l=u(t[o],t,a);if("throw"!==l.type){var s=l.arg,d=s.value;return d&&"object"==ae(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(d).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var o;this._invoke=function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=h,c(m,"constructor",h),c(h,"constructor",f),f.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(l(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(m),c(m,i,"Generator"),c(m,o,(function(){return this})),c(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),_(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}function ce(t,e,r,n,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void r(t)}c.done?e(l):Promise.resolve(l).then(n,o)}function le(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){ce(a,n,o,i,c,"next",t)}function c(t){ce(a,n,o,i,c,"throw",t)}i(void 0)}))}}const ue={name:"Database",components:{BsModal:R,QueryInfo:re,DefaultLayout:ne.Z},beforeRouteEnter:function(t,e,r){return le(ie().mark((function t(){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r(function(){var t=le(ie().mark((function t(e){var r;return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.Z.get("ajax/data?path=db");case 2:r=t.sent,e.data=r.data.data;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()},beforeRouteUpdate:function(t,e,r){var n=this;return le(ie().mark((function t(){var e;return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,oe.Z.get("ajax/data?path=db");case 2:e=t.sent,n.data=e.data.data;case 4:case"end":return t.stop()}}),t)})))()},setup:function(){var t=(0,j.iH)(null),e=(0,j.iH)(!1),r=(0,j.iH)([]),o=(0,j.iH)(0),a=document.__data.editor,i=document.__data.systemPath,c=(0,n.Fl)((function(){return t.value.connections.map((function(t){return t.name}))}));return{data:t,totalTime:function(e){var r,n;return 1e3*(null===(r=t.value)||void 0===r||null===(n=r.queries[e])||void 0===n?void 0:n.reduce((function(t,e){return t+e.time}),0))},totalMemory:function(e){var r,n;return(null===(r=t.value)||void 0===r||null===(n=r.queries[e])||void 0===n?void 0:n.reduce((function(t,e){return t+e.memory}),0))/1024/1024},showBacktraceModal:e,backtrace:r,backtraceIndex:o,instances:c,openBacktrace:function(t,n){r.value=t,o.value=n,e.value=!0},getEditorLink:function(t){return"".concat(a,"://open?file=").concat(t.pathname,"&line=").concat(t.line)},stateColor:Vt.G,round:se,replaceRoot:function(t){return t.replace(i,"ROOT")}}}};function se(t){return Math.round(100*t)/100}const de=(0,Z.Z)(ue,[["render",function(t,e,r,j,z,S){var D=(0,n.up)("QueryInfo"),M=(0,n.up)("BsModal"),P=(0,n.up)("defaultLayout");return(0,n.wg)(),(0,n.j4)(P,null,{title:(0,n.w5)((function(){return[a]})),default:(0,n.w5)((function(){return[i,j.data?((0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("ul",l,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(j.instances,(function(t,e){return(0,n.wg)(),(0,n.iD)("li",u,[(0,n._)("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"tab-".concat(t),type:"button",role:"tab","aria-selected":"true"},(0,o.zw)(t),9,s)])})),256))]),d,(0,n._)("div",f,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(j.instances,(function(t,e){var r,a,i,c,l,u;return(0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)(["tab-pane fade",[0===e?"show active":""]]),id:"tab-".concat(t),role:"tabpanel",tabindex:"0"},[(0,n._)("div",null,[p,v,(0,n._)("div",y,[m,(0,n._)("span",g,(0,o.zw)((null===(r=j.data)||void 0===r||null===(a=r.queries[t])||void 0===a?void 0:a.length)||0),1),b,(0,n._)("span",{class:(0,o.C_)(["badge","bg-".concat(j.stateColor(j.totalTime(t),15*((null===(i=j.data)||void 0===i||null===(c=i.queries[t])||void 0===c?void 0:c.length)||0)))])},(0,o.zw)(j.round(j.totalTime(t)))+"ms\r\n          ",3),w,(0,n._)("span",{class:(0,o.C_)(["badge","bg-".concat(j.stateColor(j.totalMemory(t),.05*((null===(l=j.data)||void 0===l||null===(u=l.queries[t])||void 0===u?void 0:u.length)||0)))])},(0,o.zw)(j.round(j.totalMemory(t)))+"MB\r\n          ",3)])]),k,(0,n._)("div",_,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(j.data.queries[t],(function(e,r){var o,a;return(0,n.wg)(),(0,n.iD)("div",x,[(0,n.Wm)(D,{item:e,i:r+1,"total-count":(null===(o=j.data)||void 0===o||null===(a=o.queries[t])||void 0===a?void 0:a.length)||0,"total-time":j.totalTime(t),"total-memory":j.totalMemory(t),onOpenBacktrace:j.openBacktrace},null,8,["item","i","total-count","total-time","total-memory","onOpenBacktrace"])])})),256))])],10,h)})),256))]),L,(0,n.Wm)(M,{open:j.showBacktraceModal,onHidden:e[0]||(e[0]=function(t){return j.showBacktraceModal=!1}),title:"Query ".concat(j.backtraceIndex,": Backtrace"),size:"xl"},{default:(0,n.w5)((function(){return[(0,n._)("table",E,[(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(j.backtrace,(function(t){return(0,n.wg)(),(0,n.iD)("tr",C,[(0,n._)("td",null,(0,o.zw)(t.function),1),U,(0,n._)("td",null,[(0,n._)("a",{href:j.getEditorLink(t)},(0,o.zw)(j.replaceRoot(t.pathname)),9,O)])])})),256))])])]})),_:1},8,["open","title"])])):(0,n.kq)("",!0)]})),_:1})}]])},5054:(t,e,r)=>{r.d(e,{D:()=>u});var n=r(8601),o=r(5518);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(){i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",l=n.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),i=new E(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return{value:void 0,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=_(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=d(t,e,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(t,r,i),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var f={};function h(){}function p(){}function v(){}var y={};u(y,o,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==e&&r.call(g,o)&&(y=g);var b=v.prototype=h.prototype=Object.create(y);function w(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,i,c,l){var u=d(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==a(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,c,l)}),(function(t){n("throw",t,c,l)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return n("throw",t,c,l)}))}l(u.arg)}var o;this._invoke=function(t,r){function a(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(a,a):a()}}function _(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=d(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function C(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:U}}function U(){return{value:void 0,done:!0}}return p.prototype=v,u(b,"constructor",v),u(v,"constructor",p),p.displayName=u(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},w(k.prototype),u(k.prototype,c,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new k(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(b),u(b,l,"Generator"),u(b,o,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=C,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:C(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function c(t,e,r,n,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void r(t)}c.done?e(l):Promise.resolve(l).then(n,o)}function l(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){c(a,n,o,i,l,"next",t)}function l(t){c(a,n,o,i,l,"throw",t)}i(void 0)}))}}function u(){return s.apply(this,arguments)}function s(){return s=l(i().mark((function t(){var e,r,a,c=arguments;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c.length>0&&void 0!==c[0]?c[0]:null,t.next=3,o.Z.get("ajax/last");case 3:return r=t.sent,a="",a=e?e+="/"+r.data.data:"/system/"+r.data.data,t.abrupt("return",n.Z.push(a));case 7:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}},7297:(t,e,r)=>{function n(t,e){return t>2*e?"danger":t>1.5*e?"warning":t<e/2?"success":"info"}r.d(e,{G:()=>n})}}]);
//# sourceMappingURL=338.js.map