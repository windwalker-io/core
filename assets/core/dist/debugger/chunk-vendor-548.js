/*! For license information please see chunk-vendor-548.js.LICENSE.txt */
"use strict";(self.webpackChunk_windwalker_io_core=self.webpackChunk_windwalker_io_core||[]).push([[548],{6072:(t,e,a)=>{a.d(e,{Z:()=>b});var n=a(1525),s=a(658);const r={key:0},l={class:"p-3",style:{"background-color":"var(--bs-gray-200)"}},o={class:"text-xl font-bold text-gray-800"},i={class:"text-muted"},u=["href"];var c=a(457),d=a(5054),m=a(4545);const f={name:"DefaultLayout",setup(){const t=(0,c.yj)();return{currentId:m.p,currentData:m.I,route:t,goToLast:d.D}}},b=(0,a(4181).Z)(f,[["render",function(t,e,a,c,d,m){const f=(0,n.up)("fa-icon"),b=(0,n.up)("router-link");return c.currentData?((0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("div",l,[(0,n._)("h1",o,[(0,n.WI)(t.$slots,"title")]),(0,n.Uk)(),(0,n._)("div",i,[(0,n.Wm)(b,{to:"/",class:"btn btn-sm btn-primary"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{icon:"fa-solid fa-list"})])),_:1}),(0,n.Uk)(),(0,n._)("button",{type:"button",onClick:e[0]||(e[0]=t=>c.goToLast("/"+c.route.name)),class:"btn btn-sm btn-success"},[(0,n.Wm)(f,{icon:"fa-solid fa-arrows-rotate"})]),(0,n.Uk)("\r\n      /\r\n      "+(0,s.zw)(c.currentId)+"\r\n      / ",1),(0,n._)("a",{target:"_blank",class:"text-gray-600",href:c.currentData.url},(0,s.zw)(c.currentData.url),9,u)])]),(0,n.Uk)(),(0,n.WI)(t.$slots,"default")])):(0,n.kq)("",!0)}]])},7548:(t,e,a)=>{a.r(e),a.d(e,{default:()=>z});var n=a(1525),s=a(658);const r={key:0,class:"p-4"},l={class:"l-section l-section--system"},o=(0,n._)("h3",null,"System Timeline",-1),i={class:"l-section l-section--profilers mt-5"},u={class:"nav nav-pills",id:"profilers-tab",role:"tablist"},c={class:"nav-item",role:"presentation"},d=["data-bs-target"],m={class:"tab-content mt-4",id:"myTabContent"},f=["id"],b={class:""};var g=a(5556);const y={class:"table table-bordered"},_=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null,"Label"),(0,n.Uk)(),(0,n._)("th",{class:"text-end"},"Total Time"),(0,n.Uk)(),(0,n._)("th",{class:"text-end"},"Time"),(0,n.Uk)(),(0,n._)("th",{class:"text-end"},"Total Memory"),(0,n.Uk)(),(0,n._)("th",{class:"text-end"},"Memory")])],-1),k={class:"text-end"},p={class:"badge bg-secondary"},w={key:0,class:"text-end"},v={class:"text-end"},T={class:"badge bg-secondary"},h={key:1,class:"text-end"};var D=a(7297);const U={name:"TimelineTable",props:{items:Array},setup(){let t=0,e=0,a=0,n=0;return{getTimeOffset:function(a){return e=a-t,t=a,e},getCurrentTimeOffset:function(){return e},getMemoryOffset:function(t){return n=t-a,a=t,n},getCurrentMemoryOffset:function(){return n},stateColor:D.G,bytesToMB:function(t){return t/1024/1024},round:function(t){return Math.round(1e4*t)/1e4}}}};var x=a(4181);const C=(0,x.Z)(U,[["render",function(t,e,a,r,l,o){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("table",y,[_,(0,n.Uk)(),(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.items,(t=>((0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",null,(0,s.zw)(t.label),1),(0,n.Uk)(),(0,n._)("td",k,[(0,n._)("span",p,(0,s.zw)(r.round(t.endTime))+"ms\r\n        ",1)]),(0,n.Uk)(),(r.getTimeOffset(t.endTime),(0,n.wg)(),(0,n.iD)("td",w,[(0,n._)("span",{class:(0,s.C_)(["badge","bg-"+r.stateColor(r.getCurrentTimeOffset(),50)])},(0,s.zw)(r.round(r.getCurrentTimeOffset()))+"ms\r\n        ",3)])),(0,n.Uk)(),(0,n._)("td",v,[(0,n._)("span",T,(0,s.zw)(r.round(r.bytesToMB(t.memory)))+"MB\r\n        ",1)]),(0,n.Uk)(),(r.getMemoryOffset(t.memory),(0,n.wg)(),(0,n.iD)("td",h,[(0,n._)("span",{class:(0,s.C_)(["badge","bg-"+r.stateColor(r.bytesToMB(r.getCurrentMemoryOffset()),2)])},(0,s.zw)(r.round(r.bytesToMB(r.getCurrentMemoryOffset())))+"MB\r\n        ",3)]))])))),256))])])])}]]);var M=a(6072),O=a(9197);const Z={name:"Timeline",components:{TimelineTable:C,DefaultLayout:M.Z},async beforeRouteEnter(t,e,a){a((async t=>{const e=await O.Z.get("ajax/data?path=profiler");t.data=e.data.data}))},async beforeRouteUpdate(t,e,a){const n=await O.Z.get("ajax/data?path=profiler");this.data=n.data.data},setup(){const t=(0,g.iH)(null),e=(0,n.Fl)((()=>Object.keys(t.value))),a=(0,n.Fl)((()=>t.value&&t.value.main.items.filter((t=>-1!==(t.tags||[]).indexOf("system")))||[]));return{data:t,instances:e,systemItems:a}}},z=(0,x.Z)(Z,[["render",function(t,e,a,g,y,_){const k=(0,n.up)("TimelineTable"),p=(0,n.up)("DefaultLayout");return(0,n.wg)(),(0,n.j4)(p,null,{title:(0,n.w5)((()=>[(0,n.Uk)("\r\n    Timeline\r\n  ")])),default:(0,n.w5)((()=>[(0,n.Uk)(),g.data?((0,n.wg)(),(0,n.iD)("div",r,[(0,n._)("section",l,[o,(0,n.Uk)(),(0,n.Wm)(k,{items:g.systemItems},null,8,["items"])]),(0,n.Uk)(),(0,n._)("section",i,[(0,n._)("ul",u,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(g.instances,((t,e)=>((0,n.wg)(),(0,n.iD)("li",c,[(0,n._)("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":`tab-${t}`,type:"button",role:"tab","aria-selected":"true"},(0,s.zw)(t),9,d)])))),256))]),(0,n.Uk)(),(0,n._)("div",m,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(g.instances,((t,e)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,s.C_)(["tab-pane fade",[0===e?"show active":""]]),id:`tab-${t}`,role:"tabpanel",tabindex:"0"},[(0,n._)("div",b,[(0,n.Wm)(k,{items:g.data[t].items},null,8,["items"])])],10,f)))),256))])])])):(0,n.kq)("",!0)])),_:1})}]])},5054:(t,e,a)=>{a.d(e,{D:()=>r});var n=a(8601),s=a(9197);async function r(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const e=await s.Z.get("ajax/last");let a="";return a=t?t+="/"+e.data.data:"/system/"+e.data.data,n.Z.push(a)}},7297:(t,e,a)=>{function n(t,e){return t>2*e?"danger":t>1.5*e?"warning":t<e/2?"success":"info"}a.d(e,{G:()=>n})}}]);
//# sourceMappingURL=548.js.map